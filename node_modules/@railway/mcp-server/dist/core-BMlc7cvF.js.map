{"version":3,"file":"core-BMlc7cvF.js","names":["error: unknown"],"sources":["../src/cli/core.ts"],"sourcesContent":["import { exec } from \"node:child_process\";\nimport { promisify } from \"node:util\";\nimport { analyzeRailwayError } from \"./error-handling\";\n\nconst execAsync = promisify(exec);\n\nexport const runRailwayCommand = async (command: string, cwd?: string) => {\n  const { stdout, stderr } = await execAsync(command, { cwd });\n  return { stdout, stderr, output: stdout + stderr };\n};\n\nexport const runRailwayJsonCommand = async (command: string, cwd?: string) => {\n  const { stdout } = await runRailwayCommand(command, cwd);\n  return JSON.parse(stdout.trim());\n};\n\nexport const checkRailwayCliStatus = async (): Promise<void> => {\n  try {\n    await runRailwayCommand(\"railway --version\");\n    await runRailwayCommand(\"railway whoami\");\n  } catch (error: unknown) {\n    return analyzeRailwayError(error, \"railway whoami\");\n  }\n};\n"],"mappings":";;;;;AAIA,MAAM,YAAY,UAAU,KAAK;AAEjC,MAAa,oBAAoB,OAAO,SAAiB,QAAiB;CACxE,MAAM,EAAE,QAAQ,WAAW,MAAM,UAAU,SAAS,EAAE,KAAK,CAAC;AAC5D,QAAO;EAAE;EAAQ;EAAQ,QAAQ,SAAS;EAAQ;;AAGpD,MAAa,wBAAwB,OAAO,SAAiB,QAAiB;CAC5E,MAAM,EAAE,WAAW,MAAM,kBAAkB,SAAS,IAAI;AACxD,QAAO,KAAK,MAAM,OAAO,MAAM,CAAC;;AAGlC,MAAa,wBAAwB,YAA2B;AAC9D,KAAI;AACF,QAAM,kBAAkB,oBAAoB;AAC5C,QAAM,kBAAkB,iBAAiB;UAClCA,OAAgB;AACvB,SAAO,oBAAoB,OAAO,iBAAiB"}