{"version":3,"file":"domain-CMz5XAyW.js","names":["error: unknown"],"sources":["../src/cli/domain.ts"],"sourcesContent":["import { checkRailwayCliStatus, runRailwayJsonCommand } from \"./core\";\nimport { analyzeRailwayError } from \"./error-handling\";\nimport { getLinkedProjectInfo } from \"./projects\";\n\nexport type GenerateDomainOptions = {\n  workspacePath: string;\n  service?: string;\n};\n\nexport const generateRailwayDomain = async ({\n  workspacePath,\n  service,\n}: GenerateDomainOptions): Promise<string> => {\n  try {\n    await checkRailwayCliStatus();\n    const projectResult = await getLinkedProjectInfo({ workspacePath });\n    if (!projectResult.success) {\n      throw new Error(projectResult.error);\n    }\n\n    // Build the railway domain command with options\n    let command = \"railway domain --json\";\n\n    if (service) {\n      command += ` --service ${service}`;\n    }\n\n    const domainResult = await runRailwayJsonCommand(command, workspacePath);\n\n    if (domainResult.domain) {\n      return domainResult.domain;\n    }\n\n    throw new Error(\"No domain found in Railway CLI JSON response\");\n  } catch (error: unknown) {\n    return analyzeRailwayError(error, \"railway domain --json\");\n  }\n};\n"],"mappings":";;;;;AASA,MAAa,wBAAwB,OAAO,EAC1C,eACA,cAC4C;AAC5C,KAAI;AACF,QAAM,uBAAuB;EAC7B,MAAM,gBAAgB,MAAM,qBAAqB,EAAE,eAAe,CAAC;AACnE,MAAI,CAAC,cAAc,QACjB,OAAM,IAAI,MAAM,cAAc,MAAM;EAItC,IAAI,UAAU;AAEd,MAAI,QACF,YAAW,cAAc;EAG3B,MAAM,eAAe,MAAM,sBAAsB,SAAS,cAAc;AAExE,MAAI,aAAa,OACf,QAAO,aAAa;AAGtB,QAAM,IAAI,MAAM,+CAA+C;UACxDA,OAAgB;AACvB,SAAO,oBAAoB,OAAO,wBAAwB"}