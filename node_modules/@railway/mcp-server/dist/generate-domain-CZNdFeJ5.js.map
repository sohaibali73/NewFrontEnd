{"version":3,"file":"generate-domain-CZNdFeJ5.js","names":["error: unknown"],"sources":["../src/tools/generate-domain.ts"],"sourcesContent":["import z from \"zod\";\nimport type { GenerateDomainOptions } from \"../cli/domain\";\nimport { generateRailwayDomain } from \"../cli/domain\";\nimport { createToolResponse } from \"../utils\";\n\nexport const generateDomainTool = {\n  name: \"generate-domain\",\n  title: \"Generate Railway Domain\",\n  description:\n    \"Generate a domain for the currently linked Railway project. If a domain already exists, it will return the existing domain URL. Optionally specify a service to generate the domain for.\",\n  inputSchema: {\n    workspacePath: z\n      .string()\n      .describe(\"The path to the workspace to generate domain for\"),\n    service: z\n      .string()\n      .optional()\n      .describe(\n        \"The name of the service to generate the domain for (optional)\"\n      ),\n  },\n  handler: async ({ workspacePath, service }: GenerateDomainOptions) => {\n    try {\n      const domain = await generateRailwayDomain({\n        workspacePath,\n        service,\n      });\n      return createToolResponse(\n        `‚úÖ Successfully generated Railway domain${\n          service ? ` for service '${service}'` : \"\"\n        }:\\n\\nüöÄ ${domain}\\n\\n**Note:** This domain is now available for your Railway project.`\n      );\n    } catch (error: unknown) {\n      const errorMessage =\n        error instanceof Error ? error.message : \"Unknown error occurred\";\n      return createToolResponse(\n        \"‚ùå Failed to generate Railway domain\\n\\n\" +\n          `**Error:** ${errorMessage}\\n\\n` +\n          \"**Next Steps:**\\n\" +\n          \"‚Ä¢ Ensure you have a Railway project linked\\n\" +\n          \"‚Ä¢ Check that you have permissions to generate domains\\n\" +\n          \"‚Ä¢ Verify the project has been deployed at least once\\n\" +\n          \"‚Ä¢ Run `railway link` to ensure proper project connection\"\n      );\n    }\n  },\n};\n"],"mappings":";;;;;AAKA,MAAa,qBAAqB;CAChC,MAAM;CACN,OAAO;CACP,aACE;CACF,aAAa;EACX,eAAe,EACZ,QAAQ,CACR,SAAS,mDAAmD;EAC/D,SAAS,EACN,QAAQ,CACR,UAAU,CACV,SACC,gEACD;EACJ;CACD,SAAS,OAAO,EAAE,eAAe,cAAqC;AACpE,MAAI;GACF,MAAM,SAAS,MAAM,sBAAsB;IACzC;IACA;IACD,CAAC;AACF,UAAO,mBACL,0CACE,UAAU,iBAAiB,QAAQ,KAAK,GACzC,UAAU,OAAO,sEACnB;WACMA,OAAgB;GACvB,MAAM,eACJ,iBAAiB,QAAQ,MAAM,UAAU;AAC3C,UAAO,mBACL;;aACgB,aAAa;;;;4DAM9B;;;CAGN"}