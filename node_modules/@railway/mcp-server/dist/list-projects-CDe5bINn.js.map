{"version":3,"file":"list-projects-CDe5bINn.js","names":["error: unknown"],"sources":["../src/tools/list-projects.ts"],"sourcesContent":["import { listRailwayProjects } from \"../cli\";\nimport { createToolResponse } from \"../utils\";\n\nexport const listProjectsTool = {\n\tname: \"list-projects\",\n\ttitle: \"List Railway Projects\",\n\tdescription: \"List all Railway projects for the currently logged in account\",\n\tinputSchema: {},\n\thandler: async () => {\n\t\ttry {\n\t\t\tconst projects = await listRailwayProjects();\n\n\t\t\tconst projectList = projects.map((project) => ({\n\t\t\t\tid: project.id,\n\t\t\t\tname: project.name,\n\t\t\t\tteam: project.team?.name || \"Unknown\",\n\t\t\t\tenvironments:\n\t\t\t\t\tproject.environments?.edges?.map((env) => env.node.name) || [],\n\t\t\t\tservices:\n\t\t\t\t\tproject.services?.edges?.map((service) => service.node.name) || [],\n\t\t\t\tcreatedAt: project.createdAt,\n\t\t\t\tupdatedAt: project.updatedAt,\n\t\t\t}));\n\n\t\t\tconst formattedList = projectList\n\t\t\t\t.map(\n\t\t\t\t\t(project) =>\n\t\t\t\t\t\t`**${project.name}** (ID: ${project.id})\\n` +\n\t\t\t\t\t\t`Team: ${project.team}\\n` +\n\t\t\t\t\t\t`Environments: ${project.environments.join(\", \")}\\n` +\n\t\t\t\t\t\t`Services: ${project.services.join(\", \")}\\n` +\n\t\t\t\t\t\t`Created: ${new Date(project.createdAt).toLocaleDateString()}\\n` +\n\t\t\t\t\t\t`Updated: ${new Date(project.updatedAt).toLocaleDateString()}\\n`,\n\t\t\t\t)\n\t\t\t\t.join(\"\\n\");\n\n\t\t\treturn createToolResponse(\n\t\t\t\t`✅ Found ${projects.length} Railway project(s):\\n\\n${formattedList}\\n\\n**Note:** To link to one of these projects, run \\`railway link\\` manually.`,\n\t\t\t);\n\t\t} catch (error: unknown) {\n\t\t\tconst errorMessage =\n\t\t\t\terror instanceof Error ? error.message : \"Unknown error occurred\";\n\t\t\treturn createToolResponse(\n\t\t\t\t\"❌ Failed to list Railway projects\\n\\n\" +\n\t\t\t\t\t`**Error:** ${errorMessage}\\n\\n` +\n\t\t\t\t\t\"**Next Steps:**\\n\" +\n\t\t\t\t\t\"• Ensure you are logged into Railway CLI (`railway login`)\\n\" +\n\t\t\t\t\t\"• Check that your authentication token is valid\\n\" +\n\t\t\t\t\t\"• Verify you have permissions to view projects\\n\" +\n\t\t\t\t\t\"• Try running `railway login` to refresh your authentication\",\n\t\t\t);\n\t\t}\n\t},\n};\n"],"mappings":";;;;AAGA,MAAa,mBAAmB;CAC/B,MAAM;CACN,OAAO;CACP,aAAa;CACb,aAAa,EAAE;CACf,SAAS,YAAY;AACpB,MAAI;GACH,MAAM,WAAW,MAAM,qBAAqB;GAc5C,MAAM,gBAZc,SAAS,KAAK,aAAa;IAC9C,IAAI,QAAQ;IACZ,MAAM,QAAQ;IACd,MAAM,QAAQ,MAAM,QAAQ;IAC5B,cACC,QAAQ,cAAc,OAAO,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,EAAE;IAC/D,UACC,QAAQ,UAAU,OAAO,KAAK,YAAY,QAAQ,KAAK,KAAK,IAAI,EAAE;IACnE,WAAW,QAAQ;IACnB,WAAW,QAAQ;IACnB,EAAE,CAGD,KACC,YACA,KAAK,QAAQ,KAAK,UAAU,QAAQ,GAAG,WAC9B,QAAQ,KAAK,kBACL,QAAQ,aAAa,KAAK,KAAK,CAAC,cACpC,QAAQ,SAAS,KAAK,KAAK,CAAC,aAC7B,IAAI,KAAK,QAAQ,UAAU,CAAC,oBAAoB,CAAC,aACjD,IAAI,KAAK,QAAQ,UAAU,CAAC,oBAAoB,CAAC,IAC9D,CACA,KAAK,KAAK;AAEZ,UAAO,mBACN,WAAW,SAAS,OAAO,0BAA0B,cAAc,gFACnE;WACOA,OAAgB;GACxB,MAAM,eACL,iBAAiB,QAAQ,MAAM,UAAU;AAC1C,UAAO,mBACN;;aACe,aAAa;;;;gEAM5B;;;CAGH"}