{"version":3,"file":"list-services-7QChZxQt.js","names":["error: unknown"],"sources":["../src/tools/list-services.ts"],"sourcesContent":["import z from \"zod\";\nimport { getRailwayServices } from \"../cli\";\nimport type { GetServicesOptions } from \"../cli/services\";\nimport { createToolResponse } from \"../utils\";\n\nexport const listServicesTool = {\n\tname: \"list-services\",\n\ttitle: \"List Railway Services\",\n\tdescription: \"List all services for the currently linked Railway project\",\n\tinputSchema: {\n\t\tworkspacePath: z\n\t\t\t.string()\n\t\t\t.describe(\"The path to the workspace to list services from\"),\n\t},\n\thandler: async ({ workspacePath }: GetServicesOptions) => {\n\t\ttry {\n\t\t\tconst result = await getRailwayServices({ workspacePath });\n\n\t\t\tif (!result.success) {\n\t\t\t\tthrow new Error(result.error);\n\t\t\t}\n\n\t\t\tconst services = result.services || [];\n\n\t\t\tif (services.length === 0) {\n\t\t\t\treturn createToolResponse(\n\t\t\t\t\t\"ℹ️ No services found for the currently linked Railway project.\\n\\n\" +\n\t\t\t\t\t\t\"**Next Steps:**\\n\" +\n\t\t\t\t\t\t\"• Ensure you have a project linked (`railway link`)\\n\" +\n\t\t\t\t\t\t\"• Check that your project has services created\\n\" +\n\t\t\t\t\t\t\"• Create a new service through the Railway dashboard or CLI\",\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tconst formattedList = services\n\t\t\t\t.map((service, index) => `${index + 1}. **${service}**`)\n\t\t\t\t.join(\"\\n\");\n\n\t\t\treturn createToolResponse(\n\t\t\t\t`✅ Found ${services.length} service(s) in the linked Railway project:\\n\\n${formattedList}\\n\\n**Note:** To link to a specific service, use the \\`link-service\\` tool.`,\n\t\t\t);\n\t\t} catch (error: unknown) {\n\t\t\tconst errorMessage =\n\t\t\t\terror instanceof Error ? error.message : \"Unknown error occurred\";\n\t\t\treturn createToolResponse(\n\t\t\t\t\"❌ Failed to list Railway services\\n\\n\" +\n\t\t\t\t\t`**Error:** ${errorMessage}\\n\\n` +\n\t\t\t\t\t\"**Next Steps:**\\n\" +\n\t\t\t\t\t\"• Ensure you are logged into Railway CLI (`railway login`)\\n\" +\n\t\t\t\t\t\"• Check that you have a project linked (`railway link`)\\n\" +\n\t\t\t\t\t\"• Verify you have permissions to view services\\n\" +\n\t\t\t\t\t\"• Try running `railway login` to refresh your authentication\",\n\t\t\t);\n\t\t}\n\t},\n};\n"],"mappings":";;;;;AAKA,MAAa,mBAAmB;CAC/B,MAAM;CACN,OAAO;CACP,aAAa;CACb,aAAa,EACZ,eAAe,EACb,QAAQ,CACR,SAAS,kDAAkD,EAC7D;CACD,SAAS,OAAO,EAAE,oBAAwC;AACzD,MAAI;GACH,MAAM,SAAS,MAAM,mBAAmB,EAAE,eAAe,CAAC;AAE1D,OAAI,CAAC,OAAO,QACX,OAAM,IAAI,MAAM,OAAO,MAAM;GAG9B,MAAM,WAAW,OAAO,YAAY,EAAE;AAEtC,OAAI,SAAS,WAAW,EACvB,QAAO,mBACN,sPAKA;GAGF,MAAM,gBAAgB,SACpB,KAAK,SAAS,UAAU,GAAG,QAAQ,EAAE,MAAM,QAAQ,IAAI,CACvD,KAAK,KAAK;AAEZ,UAAO,mBACN,WAAW,SAAS,OAAO,gDAAgD,cAAc,6EACzF;WACOA,OAAgB;GACxB,MAAM,eACL,iBAAiB,QAAQ,MAAM,UAAU;AAC1C,UAAO,mBACN;;aACe,aAAa;;;;gEAM5B;;;CAGH"}