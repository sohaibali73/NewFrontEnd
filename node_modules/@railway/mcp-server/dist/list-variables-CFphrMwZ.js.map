{"version":3,"file":"list-variables-CFphrMwZ.js","names":["error: unknown"],"sources":["../src/tools/list-variables.ts"],"sourcesContent":["import z from \"zod\";\nimport { listRailwayVariables } from \"../cli\";\nimport type { ListVariablesOptions } from \"../cli/variables\";\nimport { createToolResponse } from \"../utils\";\n\nexport const listVariablesTool = {\n\tname: \"list-variables\",\n\ttitle: \"List Railway Variables\",\n\tdescription: \"Show variables for the active environment\",\n\tinputSchema: {\n\t\tworkspacePath: z\n\t\t\t.string()\n\t\t\t.describe(\"The path to the workspace to list variables from\"),\n\t\tservice: z\n\t\t\t.string()\n\t\t\t.optional()\n\t\t\t.describe(\"The service to show variables for (optional)\"),\n\t\tenvironment: z\n\t\t\t.string()\n\t\t\t.optional()\n\t\t\t.describe(\"The environment to show variables for (optional)\"),\n\t\tkv: z\n\t\t\t.boolean()\n\t\t\t.optional()\n\t\t\t.describe(\"Show variables in KV format (optional)\"),\n\t\tjson: z.boolean().optional().describe(\"Output in JSON format (optional)\"),\n\t},\n\thandler: async ({\n\t\tworkspacePath,\n\t\tservice,\n\t\tenvironment,\n\t\tkv,\n\t\tjson,\n\t}: ListVariablesOptions) => {\n\t\ttry {\n\t\t\tconst variables = await listRailwayVariables({\n\t\t\t\tworkspacePath,\n\t\t\t\tservice,\n\t\t\t\tenvironment,\n\t\t\t\tkv,\n\t\t\t\tjson,\n\t\t\t});\n\n\t\t\treturn createToolResponse(variables);\n\t\t} catch (error: unknown) {\n\t\t\tconst errorMessage =\n\t\t\t\terror instanceof Error ? error.message : \"Unknown error occurred\";\n\t\t\treturn createToolResponse(\n\t\t\t\t\"❌ Failed to list Railway variables\\n\\n\" +\n\t\t\t\t\t`**Error:** ${errorMessage}\\n\\n` +\n\t\t\t\t\t\"**Next Steps:**\\n\" +\n\t\t\t\t\t\"• Ensure you have a Railway project linked\\n\" +\n\t\t\t\t\t\"• Check that the service and environment exist\\n\" +\n\t\t\t\t\t\"• Verify you have permissions to view variables\\n\" +\n\t\t\t\t\t\"• Run `railway link` to ensure proper project connection\",\n\t\t\t);\n\t\t}\n\t},\n};\n"],"mappings":";;;;;AAKA,MAAa,oBAAoB;CAChC,MAAM;CACN,OAAO;CACP,aAAa;CACb,aAAa;EACZ,eAAe,EACb,QAAQ,CACR,SAAS,mDAAmD;EAC9D,SAAS,EACP,QAAQ,CACR,UAAU,CACV,SAAS,+CAA+C;EAC1D,aAAa,EACX,QAAQ,CACR,UAAU,CACV,SAAS,mDAAmD;EAC9D,IAAI,EACF,SAAS,CACT,UAAU,CACV,SAAS,yCAAyC;EACpD,MAAM,EAAE,SAAS,CAAC,UAAU,CAAC,SAAS,mCAAmC;EACzE;CACD,SAAS,OAAO,EACf,eACA,SACA,aACA,IACA,WAC2B;AAC3B,MAAI;GACH,MAAM,YAAY,MAAM,qBAAqB;IAC5C;IACA;IACA;IACA;IACA;IACA,CAAC;AAEF,UAAO,mBAAmB,UAAU;WAC5BA,OAAgB;GACxB,MAAM,eACL,iBAAiB,QAAQ,MAAM,UAAU;AAC1C,UAAO,mBACN;;aACe,aAAa;;;;4DAM5B;;;CAGH"}