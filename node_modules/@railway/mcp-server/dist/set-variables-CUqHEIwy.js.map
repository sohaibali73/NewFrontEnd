{"version":3,"file":"set-variables-CUqHEIwy.js","names":["error: unknown"],"sources":["../src/tools/set-variables.ts"],"sourcesContent":["import z from \"zod\";\nimport { setRailwayVariables } from \"../cli\";\nimport type { SetVariablesOptions } from \"../cli/variables\";\nimport { createToolResponse } from \"../utils\";\n\nexport const setVariablesTool = {\n\tname: \"set-variables\",\n\ttitle: \"Set Railway Variables\",\n\tdescription: \"Set environment variables for the active environment\",\n\tinputSchema: {\n\t\tworkspacePath: z\n\t\t\t.string()\n\t\t\t.describe(\"The path to the workspace to set variables in\"),\n\t\tvariables: z\n\t\t\t.array(z.string())\n\t\t\t.describe(\"Array of '{key}={value}' environment variable pairs to set\"),\n\t\tservice: z\n\t\t\t.string()\n\t\t\t.optional()\n\t\t\t.describe(\"The service to set variables for (optional)\"),\n\t\tenvironment: z\n\t\t\t.string()\n\t\t\t.optional()\n\t\t\t.describe(\"The environment to set variables for (optional)\"),\n\t\tskipDeploys: z\n\t\t\t.boolean()\n\t\t\t.optional()\n\t\t\t.describe(\"Skip triggering deploys when setting variables (optional)\"),\n\t},\n\thandler: async ({\n\t\tworkspacePath,\n\t\tvariables,\n\t\tservice,\n\t\tenvironment,\n\t\tskipDeploys,\n\t}: SetVariablesOptions) => {\n\t\ttry {\n\t\t\tconst result = await setRailwayVariables({\n\t\t\t\tworkspacePath,\n\t\t\t\tvariables,\n\t\t\t\tservice,\n\t\t\t\tenvironment,\n\t\t\t\tskipDeploys,\n\t\t\t});\n\n\t\t\treturn createToolResponse(result);\n\t\t} catch (error: unknown) {\n\t\t\tconst errorMessage =\n\t\t\t\terror instanceof Error ? error.message : \"Unknown error occurred\";\n\t\t\treturn createToolResponse(\n\t\t\t\t\"❌ Failed to set Railway variables\\n\\n\" +\n\t\t\t\t\t`**Error:** ${errorMessage}\\n\\n` +\n\t\t\t\t\t\"**Next Steps:**\\n\" +\n\t\t\t\t\t\"• Ensure you have a Railway project linked\\n\" +\n\t\t\t\t\t\"• Check that the service and environment exist\\n\" +\n\t\t\t\t\t\"• Verify you have permissions to set variables\\n\" +\n\t\t\t\t\t\"• Ensure variable format is correct (KEY=value)\\n\" +\n\t\t\t\t\t\"• Run `railway link` to ensure proper project connection\",\n\t\t\t);\n\t\t}\n\t},\n};\n"],"mappings":";;;;;AAKA,MAAa,mBAAmB;CAC/B,MAAM;CACN,OAAO;CACP,aAAa;CACb,aAAa;EACZ,eAAe,EACb,QAAQ,CACR,SAAS,gDAAgD;EAC3D,WAAW,EACT,MAAM,EAAE,QAAQ,CAAC,CACjB,SAAS,6DAA6D;EACxE,SAAS,EACP,QAAQ,CACR,UAAU,CACV,SAAS,8CAA8C;EACzD,aAAa,EACX,QAAQ,CACR,UAAU,CACV,SAAS,kDAAkD;EAC7D,aAAa,EACX,SAAS,CACT,UAAU,CACV,SAAS,4DAA4D;EACvE;CACD,SAAS,OAAO,EACf,eACA,WACA,SACA,aACA,kBAC0B;AAC1B,MAAI;GACH,MAAM,SAAS,MAAM,oBAAoB;IACxC;IACA;IACA;IACA;IACA;IACA,CAAC;AAEF,UAAO,mBAAmB,OAAO;WACzBA,OAAgB;GACxB,MAAM,eACL,iBAAiB,QAAQ,MAAM,UAAU;AAC1C,UAAO,mBACN;;aACe,aAAa;;;;;4DAO5B;;;CAGH"}